<Window x:Class="DongNoti.Views.AlarmDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:models="clr-namespace:DongNoti.Models"
        Title="ì•ŒëžŒ ì„¤ì •" Height="650" Width="450"
        WindowStartupLocation="CenterOwner"
        Icon="/Resources/app.ico"
        ResizeMode="NoResize">
    <Window.Resources>
        <Style x:Key="ModernRaisedButton" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="MinWidth" Value="0"/>
            <Setter Property="MinHeight" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <Border.Effect>
                                <DropShadowEffect Color="#40000000" Direction="270" ShadowDepth="2" BlurRadius="4" Opacity="0.3"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1976D2"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#1565C0"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="ModernOutlinedButton" TargetType="Button" BasedOn="{StaticResource ModernRaisedButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#2196F3"/>
            <Setter Property="BorderBrush" Value="#2196F3"/>
            <Setter Property="BorderThickness" Value="1.5"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="MinWidth" Value="0"/>
            <Setter Property="MinHeight" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E3F2FD"/>
                    <Setter Property="BorderBrush" Value="#1976D2"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#BBDEFB"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="ModernTextButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#2196F3"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="MinWidth" Value="0"/>
            <Setter Property="MinHeight" Value="0"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E3F2FD"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- ìŠ¬ë¦¼í•œ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ -->
        <Style TargetType="{x:Type ScrollBar}">
            <Setter Property="Width" Value="8"/>
            <Setter Property="MinWidth" Value="8"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Grid>
                            <Border Background="#F5F5F5" CornerRadius="4"/>
                            <Track x:Name="PART_Track" IsDirectionReversed="True">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Style>
                                            <Style TargetType="Thumb">
                                                <Setter Property="Background" Value="#BDBDBD"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    CornerRadius="4"
                                                                    Width="6"
                                                                    Margin="1,0"/>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#9E9E9E"/>
                                                    </Trigger>
                                                    <Trigger Property="IsDragging" Value="True">
                                                        <Setter Property="Background" Value="#757575"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Thumb.Style>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="8" Padding="20" Margin="0">
        <Border.Effect>
            <DropShadowEffect Color="#20000000" Direction="270" ShadowDepth="2" BlurRadius="8" Opacity="0.15"/>
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <ScrollViewer Grid.Row="0" 
                          VerticalScrollBarVisibility="Auto"
                          Padding="0,0,8,0"
                          CanContentScroll="False">
                <StackPanel Margin="0,0,8,0">
                    <!-- íƒ€ìž… ì„ íƒ -->
                    <Label Content="íƒ€ìž…:" Margin="0,0,0,5"/>
                    <ComboBox x:Name="TypeComboBox" 
                              Margin="0,0,0,15" 
                              SelectedIndex="0"
                              SelectionChanged="TypeComboBox_SelectionChanged"
                              Padding="8,6">
                        <ComboBoxItem Content="ì•ŒëžŒ" Tag="Alarm"/>
                        <ComboBoxItem Content="Dday" Tag="Dday"/>
                    </ComboBox>

                    <!-- ì œëª© -->
                    <Label Content="ì œëª©:" Margin="0,0,0,5"/>
                    <TextBox x:Name="TitleTextBox" 
                             Margin="0,0,0,15" 
                             Text="ì•ŒëžŒ"
                             Padding="8,6"
                             BorderBrush="#BDBDBD"
                             BorderThickness="1"/>

                    <!-- ë‚ ì§œ -->
                    <Label Content="ë‚ ì§œ:" Margin="0,0,0,5"/>
                    <DatePicker x:Name="DatePicker" 
                                Margin="0,0,0,15"/>

                    <!-- ì‹œê°„ (Alarm íƒ€ìž…ì¼ ë•Œë§Œ í‘œì‹œ) -->
                    <StackPanel x:Name="TimePanel" Margin="0,0,0,5">
                        <Label Content="ì‹œê°„:" Margin="0,0,0,5"/>
                        <Grid Margin="0,0,0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox x:Name="HourComboBox" 
                                      Grid.Column="0" 
                                      Margin="0,0,5,0"
                                      Padding="8,6"/>
                            <TextBlock Grid.Column="1" 
                                       Text=":" 
                                       VerticalAlignment="Center" 
                                       HorizontalAlignment="Center" 
                                       Margin="5,0"
                                       FontSize="18"
                                       FontWeight="Bold"/>
                            <ComboBox x:Name="MinuteComboBox" 
                                      Grid.Column="2" 
                                      Margin="5,0,0,0"
                                      Padding="8,6"/>
                        </Grid>
                        
                        <!-- ë¹ ë¥¸ ì‹œê°„ ìž…ë ¥ -->
                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                            <TextBlock Text="ë¹ ë¥¸ ìž…ë ¥:" 
                                       VerticalAlignment="Center" 
                                       Margin="0,0,8,0"
                                       FontSize="12"
                                       Foreground="Gray"/>
                            <TextBox x:Name="QuickTimeTextBox" 
                                     Width="80"
                                     Padding="6,4"
                                     FontSize="12"
                                     BorderBrush="#BDBDBD"
                                     BorderThickness="1"
                                     ToolTip="HH:mm í˜•ì‹ (ì˜ˆ: 15:30)"
                                     KeyDown="QuickTimeTextBox_KeyDown"/>
                            <TextBlock Text="(HH:mm)" 
                                       VerticalAlignment="Center" 
                                       Margin="5,0,0,0"
                                       FontSize="11"
                                       Foreground="LightGray"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- ë°˜ë³µ ì„¤ì • (Alarm íƒ€ìž…ì¼ ë•Œë§Œ í‘œì‹œ) -->
                    <StackPanel x:Name="RepeatPanel">
                        <Label Content="ë°˜ë³µ:" Margin="0,0,0,5"/>
                        <ComboBox x:Name="RepeatComboBox" 
                                  Margin="0,0,0,15" 
                                  SelectedIndex="0" 
                                  SelectionChanged="RepeatComboBox_SelectionChanged"
                                  Padding="8,6">
                            <ComboBoxItem Content="ì—†ìŒ" Tag="None"/>
                            <ComboBoxItem Content="ë§¤ì¼" Tag="Daily"/>
                            <ComboBoxItem Content="ë§¤ì£¼" Tag="Weekly"/>
                            <ComboBoxItem Content="ë§¤ì›”" Tag="Monthly"/>
                        </ComboBox>

                        <!-- ìš”ì¼ ì„ íƒ (ë§¤ì£¼ ì„ íƒ ì‹œ í‘œì‹œ) -->
                        <StackPanel x:Name="DaysOfWeekPanel" Visibility="Collapsed" Margin="0,0,0,15">
                        <Label Content="ìš”ì¼ ì„ íƒ:" Margin="0,0,0,5"/>
                        <UniformGrid Columns="7">
                            <CheckBox x:Name="MondayCheckBox" Content="ì›”" Margin="3" HorizontalAlignment="Center"/>
                            <CheckBox x:Name="TuesdayCheckBox" Content="í™”" Margin="3" HorizontalAlignment="Center"/>
                            <CheckBox x:Name="WednesdayCheckBox" Content="ìˆ˜" Margin="3" HorizontalAlignment="Center"/>
                            <CheckBox x:Name="ThursdayCheckBox" Content="ëª©" Margin="3" HorizontalAlignment="Center"/>
                            <CheckBox x:Name="FridayCheckBox" Content="ê¸ˆ" Margin="3" HorizontalAlignment="Center"/>
                            <CheckBox x:Name="SaturdayCheckBox" Content="í† " Margin="3" HorizontalAlignment="Center"/>
                            <CheckBox x:Name="SundayCheckBox" Content="ì¼" Margin="3" HorizontalAlignment="Center"/>
                        </UniformGrid>
                        </StackPanel>
                    </StackPanel>

                    <!-- ì¹´í…Œê³ ë¦¬ -->
                    <Label Content="ì¹´í…Œê³ ë¦¬:" Margin="0,0,0,5"/>
                    <ComboBox x:Name="CategoryComboBox" 
                              Margin="0,0,0,15" 
                              Padding="8,6">
                        <ComboBoxItem Content="ê¸°ë³¸" Tag="ê¸°ë³¸" IsSelected="True"/>
                    </ComboBox>

                    <!-- ìš°ì„ ìˆœìœ„ -->
                    <Label Content="ìš°ì„ ìˆœìœ„:" Margin="0,0,0,5"/>
                    <ComboBox x:Name="PriorityComboBox" 
                              Margin="0,0,0,15" 
                              Padding="8,6">
                        <ComboBoxItem Content="ë‚®ìŒ" Tag="Low"/>
                        <ComboBoxItem Content="ë³´í†µ" Tag="Normal" IsSelected="True"/>
                        <ComboBoxItem Content="ë†’ìŒ" Tag="High"/>
                        <ComboBoxItem Content="ê¸´ê¸‰" Tag="Critical"/>
                    </ComboBox>

                    <!-- ì‚¬ìš´ë“œ íŒŒì¼ (Alarm íƒ€ìž…ì¼ ë•Œë§Œ í‘œì‹œ) -->
                    <StackPanel x:Name="SoundPanel" Margin="0,0,0,15">
                        <Label Content="ì‚¬ìš´ë“œ íŒŒì¼ (ì„ íƒì‚¬í•­):" Margin="0,0,0,5"/>
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="SoundFilePathTextBox" 
                                     Grid.Column="0" 
                                     IsReadOnly="True" 
                                     Margin="0,0,5,0"
                                     Padding="8,6"
                                     BorderBrush="#BDBDBD"
                                     BorderThickness="1"/>
                            <Button Grid.Column="1" 
                                    Content="ì°¾ê¸°..." 
                                    Click="BrowseSoundFile_Click" 
                                    Style="{StaticResource ModernOutlinedButton}"/>
                        </Grid>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                            <Button Content="ê¸°ë³¸ ì‚¬ìš´ë“œ ì‚¬ìš©" 
                                    Click="UseDefaultSound_Click" 
                                    Margin="0,0,8,0"
                                    Style="{StaticResource ModernTextButton}"/>
                            <Button Content="ðŸ”Š í…ŒìŠ¤íŠ¸" 
                                    Click="TestSound_Click" 
                                    Style="{StaticResource ModernOutlinedButton}"
                                    Padding="8,4"
                                    FontSize="12"
                                    ToolTip="í˜„ìž¬ ì„¤ì •ëœ ì‚¬ìš´ë“œë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤ (3ì´ˆ ìž¬ìƒ)"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- ìžë™ ì¢…ë£Œ ì‹œê°„ (Alarm íƒ€ìž…ì¼ ë•Œë§Œ í‘œì‹œ) -->
                    <StackPanel x:Name="AutoDismissPanel" Margin="0,0,0,15">
                        <Label Content="ìžë™ ì¢…ë£Œ ì‹œê°„ (ë¶„):" Margin="0,0,0,5"/>
                        <Grid Margin="0,0,0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="AutoDismissMinutesTextBox" 
                                     Text="1" 
                                     Margin="0,0,5,0"
                                     PreviewTextInput="AutoDismissMinutesTextBox_PreviewTextInput"
                                     Padding="8,6"
                                     BorderBrush="#BDBDBD"
                                     BorderThickness="1"/>
                            <TextBlock Grid.Column="1" 
                                       Text="ë¶„ í›„ ìžë™ìœ¼ë¡œ ë‹«ê¸°" 
                                       VerticalAlignment="Center" 
                                       Margin="5,0,0,0"
                                       Foreground="Gray"/>
                        </Grid>
                        <TextBlock Text="* 0ë¶„ ìž…ë ¥ ì‹œ ìžë™ ì¢…ë£Œ ì•ˆ í•¨ (ìˆ˜ë™ìœ¼ë¡œë§Œ ë‹«ê¸°)" 
                                   FontSize="10"
                                   Foreground="Gray"
                                   Margin="0,0,0,0"/>
                    </StackPanel>

                    <!-- ë©”ëª¨ (Dday íƒ€ìž…ì¼ ë•Œë§Œ í‘œì‹œ) -->
                    <StackPanel x:Name="MemoPanel" Margin="0,0,0,15" Visibility="Collapsed">
                        <Label Content="ë©”ëª¨:" Margin="0,0,0,5"/>
                        <TextBox x:Name="MemoTextBox" 
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 MinHeight="80"
                                 MaxHeight="150"
                                 VerticalScrollBarVisibility="Auto"
                                 Padding="8,6"
                                 BorderBrush="#BDBDBD"
                                 BorderThickness="1"
                                 FontSize="12"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>

            <!-- ë²„íŠ¼ -->
            <StackPanel Grid.Row="1" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,20,0,0">
                <Button Content="í™•ì¸" 
                        Click="OK_Click" 
                        Margin="5,0" 
                        IsDefault="True"
                        Style="{StaticResource ModernRaisedButton}"
                        MinWidth="65" MinHeight="30"/>
                <Button Content="ì·¨ì†Œ" 
                        Click="Cancel_Click" 
                        Margin="5,0" 
                        IsCancel="True"
                        Style="{StaticResource ModernOutlinedButton}"
                        MinWidth="65" MinHeight="30"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
